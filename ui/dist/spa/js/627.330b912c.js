"use strict";(self["webpackChunkchange_password"]=self["webpackChunkchange_password"]||[]).push([[627],{9627:(e,l,o)=>{o.r(l),o.d(l,{default:()=>f});o(71);var a=o(3673),s=o(8880);const n={class:"q-pa-md",style:{"max-width":"500px"}},t={class:"q-pt-xl"};function r(e,l,o,r,i,d){const u=(0,a.up)("q-select"),p=(0,a.up)("q-input"),c=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(u,{modelValue:e.locale,"onUpdate:modelValue":l[0]||(l[0]=l=>e.locale=l),options:e.localeOptions,class:"q-pb-xl",label:"Quasar Language",dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"",style:{"min-width":"150px"}},null,8,["modelValue","options"]),(0,a._)("form",{class:"q-gutter-md",onSubmit:l[4]||(l[4]=(0,s.iM)(((...l)=>e.onSubmit&&e.onSubmit(...l)),["prevent","stop"])),onReset:l[5]||(l[5]=(0,s.iM)(((...l)=>e.onReset&&e.onReset(...l)),["prevent","stop"]))},[(0,a.Wm)(p,{modelValue:e.login,"onUpdate:modelValue":l[1]||(l[1]=l=>e.login=l),filled:"",label:e.$t("login_label"),hint:e.$t("login_hint"),name:"login","error-message":e.getValidationErrors("login"),error:e.hasValidationErrors("login")},null,8,["modelValue","label","hint","error-message","error"]),(0,a.Wm)(p,{modelValue:e.oldPassword,"onUpdate:modelValue":l[2]||(l[2]=l=>e.oldPassword=l),filled:"",label:e.$t("oldPassword_label"),hint:e.$t("oldPassword_hint"),name:"oldPassword","error-message":e.getValidationErrors("oldPassword"),error:e.hasValidationErrors("oldPassword")},null,8,["modelValue","label","hint","error-message","error"]),(0,a.Wm)(p,{modelValue:e.newPassword,"onUpdate:modelValue":l[3]||(l[3]=l=>e.newPassword=l),filled:"",label:e.$t("newPassword_label"),hint:e.$t("newPassword_hint"),name:"newPassword","error-message":e.getValidationErrors("password"),error:e.hasValidationErrors("password")},null,8,["modelValue","label","hint","error-message","error"]),(0,a._)("div",t,[(0,a.Wm)(c,{label:e.$t("btn_submit"),type:"submit",color:"primary"},null,8,["label"]),(0,a.Wm)(c,{label:e.$t("btn_reset"),type:"reset",color:"primary",flat:"",class:"q-ml-sm"},null,8,["label"])])],32)])}var i=o(1959),d=o(3185),u=o(8825),p=o(5474);const c=(0,a.aZ)({name:"PageIndex",setup(){const e=(0,u.Z)(),{locale:l,t:o}=(0,d.QT)({useScope:"global"});l.value=e.lang.getLocale();const a=(0,i.iH)(null),s=(0,i.iH)(null),n=(0,i.iH)(null),t=(0,i.iH)({});function r(l){p.api.post("/api/v1",l).then((l=>{console.log("resp:",l.data),b({}),l.data.success&&e.notify({type:"positive",position:"top",message:l.data.message,caption:o("change_pass_success_caption")})})).catch((l=>{let a=o("change_net_fail_message_default");console.log(l),l.response?(b(l.response.data.errors),console.log(l.response.data),console.log(l.response.status),a=l.response.data.message):b({common:["common error"]}),e.notify({type:"negative",message:a,position:"top",caption:o("change_pass_fail_caption")})}))}function c(e){for(const[l,o]of Object.entries(t.value))if(l===e)return o;return[]}function m(e){const l=c(e);return 0!==l.length?l.join("; "):""}function g(e){return 0!==c(e).length}function b(e){t.value=e}return{getValidationErrors:m,hasValidationErrors:g,login:a,oldPassword:s,newPassword:n,locale:l,localeOptions:[{value:"ru-RU",label:"Russian"},{value:"en-US",label:"English"}],onSubmit(){const e={login:a.value,old_password:s.value,password:n.value,lang:l.value};r(e)},onReset(){a.value=null,s.value=null,n.value=null,b({})}}}});var m=o(4260),g=o(9615),b=o(4842),w=o(4607),h=o(7518),v=o.n(h);const _=(0,m.Z)(c,[["render",r]]),f=_;v()(c,"components",{QSelect:g.Z,QInput:b.Z,QBtn:w.Z})}}]);